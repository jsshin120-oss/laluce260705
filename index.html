<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>모바일 청첩장</title>
<style>
body,html{margin:0;padding:0;font-family:'Nanum Gothic',sans-serif;color:#fff;text-align:center;background:#000;overflow-x:hidden;}
.video-bg{position:fixed;inset:0;z-index:-2;overflow:hidden;}
.video-bg video{width:100%;height:100%;object-fit:cover;}
.page{max-width:420px;margin:0 auto;padding:20px 16px 120px;position:relative;z-index:1;}
.section{margin-bottom:20px;}
.names{margin:10px 0;}
.muted{opacity:0.8;font-size:13px;}
.btn,.copy-btn{display:block;width:100%;margin:10px auto;padding:10px;background:rgba(255,255,255,0.1);color:#fff;border:none;border-radius:6px;text-decoration:none;}
.bgm-toggle{position:fixed;top:16px;right:16px;background:rgba(255,255,255,0.2);padding:10px 14px;border-radius:8px;cursor:pointer;z-index:1000;}
.fade-msg{position:fixed;top:80px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.4);padding:12px 20px;border-radius:12px;font-size:14px;opacity:0;transition:opacity 0.5s;z-index:1001;}
.modal{position:fixed;inset:0;background:rgba(0,0,0,0.8);display:none;align-items:center;justify-content:center;z-index:9999;}
.modal img{max-width:95%;max-height:80%;}
.arrow{position:absolute;top:50%;transform:translateY(-50%);font-size:32px;color:#fff;background:rgba(0,0,0,0.3);width:40px;height:60px;line-height:60px;text-align:center;border-radius:8px;cursor:pointer;}
.arrow-left{left:10px;}
.arrow-right{right:10px;}
.toggle-header{margin:8px 0;padding:10px;background:rgba(255,255,255,0.1);cursor:pointer;}
.toggle-content{height:0;overflow:hidden;transition:height 0.25s;}
</style>
</head>
<body>

<div class="video-bg">
  <video autoplay muted loop playsinline>
    <source src="bg.mp4" type="video/mp4">
  </video>
</div>

<button class="bgm-toggle" id="bgmToggle">BGM 켜기</button>
<div class="fade-msg" id="bgmMsg">아내가 준비한 음악을 들어보세요</div>

<div class="page">
  <div class="section">
    <h1>우리 드디어 결혼해요</h1>
    <p class="names">신랑 신준섭<br>신부 김가람</p>
  </div>

  <div class="section">
    <p>2026년 7월 5일 일요일<br>오후 1시 30분</p>
    <p id="countdown" class="muted">계산 중...</p>
  </div>

  <div class="section">
    <h2>갤러리</h2>
    <img src="PHOTO1.jpg" style="width:100%;margin-bottom:8px;" onclick="openPhotoModal(0)">
    <img src="PHOTO2.jpg" style="width:100%;margin-bottom:8px;" onclick="openPhotoModal(1)">
  </div>

  <div class="section">
    <h2>오시는 길</h2>
    <div onclick="toggleMapModal()"><img src="map.jpg" style="width:100%;cursor:pointer;"></div>
  </div>
</div>

<div class="modal" id="photoModal">
  <span class="arrow arrow-left" onclick="prevPhoto()">&#10094;</span>
  <img id="modalPhoto" src="" onclick="closePhotoModal()">
  <span class="arrow arrow-right" onclick="nextPhoto()">&#10095;</span>
</div>

<div class="modal" id="mapModal" onclick="toggleMapModal()">
  <img src="map.jpg">
</div>

<audio id="bgm" loop>
  <source src="Si_Llego_A_Besarte.mp3" type="audio/mpeg">
</audio>

<script>
const bgm=document.getElementById('bgm');
const bgmToggle=document.getElementById('bgmToggle');
const bgmMsg=document.getElementById('bgmMsg');
let isPlaying=false;

// BGM 버튼
bgmToggle.onclick=function(){
  if(!isPlaying){bgm.play();isPlaying=true;bgmToggle.innerText="BGM 끄기";}
  else{bgm.pause();isPlaying=false;bgmToggle.innerText="BGM 켜기";}
}

// 잠깐 메시지
bgmMsg.style.opacity=1;
setTimeout(()=>{bgmMsg.style.opacity=0;},3000);

// 카운트다운
const weddingDate=new Date("2026-07-05T13:30:00");
function updateCountdown(){
  const diff=weddingDate-new Date();
  if(diff<=0){document.getElementById('countdown').innerText="오늘 결혼식입니다!";return;}
  const d=Math.floor(diff/(1000*60*60*24));
  const h=Math.floor((diff/(1000*60*60))%24);
  const m=Math.floor((diff/(1000*60))%60);
  const s=Math.floor((diff/1000)%60);
  document.getElementById('countdown').innerText=`${d}일 ${h}시간 ${m}분 ${s}초 남았습니다`;
}
setInterval(updateCountdown,1000);
updateCountdown();

// 갤러리
const photos=["PHOTO1.jpg","PHOTO2.jpg"];
let currentPhoto=0;
function openPhotoModal(idx){currentPhoto=idx;document.getElementById('modalPhoto').src=photos[idx];document.getElementById('photoModal').style.display='flex';}
function closePhotoModal(){document.getElementById('photoModal').style.display='none';}
function prevPhoto(){currentPhoto=(currentPhoto-1+photos.length)%photos.length;document.getElementById('modalPhoto').src=photos[currentPhoto];}
function nextPhoto(){currentPhoto=(currentPhoto+1)%photos.length;document.getElementById('modalPhoto').src=photos[currentPhoto];}

// 약도
function toggleMapModal(){const m=document.getElementById('mapModal');m.style.display=(m.style.display==='flex'?'none':'flex');}

// 토글박스
document.querySelectorAll('.toggle-header').forEach(h=>{
  h.onclick=()=>{const c=h.nextElementSibling;c.style.height=(c.style.height&&c.style.height!=='0px'?'0px':c.scrollHeight+'px');}
});
</script>

</body>
</html>
